{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import _regeneratorRuntime from\"@babel/runtime/regenerator\";import{useEffect,useState}from\"react\";import{StatusBar}from\"expo-status-bar\";import AsyncStorage from\"@react-native-async-storage/async-storage\";import{Fontisto}from\"@expo/vector-icons\";import{MaterialIcons}from\"@expo/vector-icons\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import TextInput from\"react-native-web/dist/exports/TextInput\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Alert from\"react-native-web/dist/exports/Alert\";import Platform from\"react-native-web/dist/exports/Platform\";import{theme}from\"./colors\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var STORAGE_KEY=\"@toDos\";var WORK_KEY=\"@currentWork\";export default function App(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),working=_useState2[0],setWorking=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),text=_useState4[0],setText=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),editText=_useState6[0],setEditText=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),toDos=_useState8[0],setToDos=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),done=_useState10[0],setDone=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),modify=_useState12[0],setModify=_useState12[1];var travel=function travel(){return saveTab(false);};var work=function work(){return saveTab(true);};var modifyBtn=function modifyBtn(){return setModify(true);};var modifyCancelBtn=function modifyCancelBtn(){setModify(false);setText(\"\");};var onChangeText=function onChangeText(payload){return setText(payload);};var modiFyText=function modiFyText(payload){return setEditText(payload);};var saveToDos=function saveToDos(toSave){return _regeneratorRuntime.async(function saveToDos$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(AsyncStorage.setItem(STORAGE_KEY,JSON.stringify(toSave)));case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);alert(_context.t0);case 8:case\"end\":return _context.stop();}}},null,null,[[0,5]],Promise);};var loadToDos=function loadToDos(){var loadText;return _regeneratorRuntime.async(function loadToDos$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _regeneratorRuntime.awrap(AsyncStorage.getItem(STORAGE_KEY));case 3:loadText=_context2.sent;if(loadText){setToDos(JSON.parse(loadText));}_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);alert(_context2.t0);case 10:case\"end\":return _context2.stop();}}},null,null,[[0,7]],Promise);};var saveTab=function saveTab(saveData){return _regeneratorRuntime.async(function saveTab$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setWorking(saveData);_context3.next=3;return _regeneratorRuntime.awrap(AsyncStorage.setItem(STORAGE_KEY,JSON.stringify(saveData)));case 3:case\"end\":return _context3.stop();}}},null,null,null,Promise);};var currentTab=function currentTab(){var workData;return _regeneratorRuntime.async(function currentTab$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return _regeneratorRuntime.awrap(AsyncStorage.getItem(WORK_KEY));case 3:workData=_context4.sent;if(workData){setToDos(JSON.parse(workData));}_context4.next=11;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);alert(_context4.t0);working(true);case 11:case\"end\":return _context4.stop();}}},null,null,[[0,7]],Promise);};var doneTodo=function doneTodo(key){var newToDos;return _regeneratorRuntime.async(function doneTodo$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:newToDos=_objectSpread({},toDos);newToDos[key].done=!newToDos[key].done;setToDos(newToDos);_context5.next=5;return _regeneratorRuntime.awrap(saveToDos(newToDos));case 5:case\"end\":return _context5.stop();}}},null,null,null,Promise);};useEffect(function(){loadToDos();currentTab();},[]);var addToDo=function addToDo(){var newToDos;return _regeneratorRuntime.async(function addToDo$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(!(text===\"\")){_context6.next=2;break;}return _context6.abrupt(\"return\");case 2:newToDos=_objectSpread(_objectSpread({},toDos),{},_defineProperty({},Date.now(),{text:text,working:working,modify:modify,done:done}));setToDos(newToDos);_context6.next=6;return _regeneratorRuntime.awrap(saveToDos(newToDos));case 6:setText(\"\");case 7:case\"end\":return _context6.stop();}}},null,null,null,Promise);};var modifyToDo=function modifyToDo(key){var newToDos;return _regeneratorRuntime.async(function modifyToDo$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;if(!(editText===\"\")){_context7.next=3;break;}return _context7.abrupt(\"return\");case 3:newToDos=_objectSpread({},toDos);setEditText(newToDos[key].text);newToDos[key].text=editText;setToDos(newToDos);_context7.next=9;return _regeneratorRuntime.awrap(saveToDos(newToDos));case 9:setEditText(\"\");setModify(false);console.log(toDos);_context7.next=17;break;case 14:_context7.prev=14;_context7.t0=_context7[\"catch\"](0);alert(_context7.t0);case 17:case\"end\":return _context7.stop();}}},null,null,[[0,14]],Promise);};var deleteToDo=function deleteToDo(key){if(Platform.OS===\"web\"){var ok=confirm(\"Do you want to delete this To Do?\");if(ok){var newToDos=_objectSpread({},toDos);delete newToDos[key];setToDos(newToDos);saveToDos(newToDos);}}else{Alert.alert(\"Delete To Do\",\"Are you sure?\",[{text:\"OK\",onPress:function onPress(){var newToDos=_objectSpread({},toDos);delete newToDos[key];setToDos(newToDos);saveToDos(newToDos);}},{text:\"Cancel\"}]);}};return _jsxs(View,{style:styles.container,children:[_jsx(StatusBar,{style:\"light\"}),_jsxs(View,{style:styles.header,children:[_jsx(TouchableOpacity,{onPress:work,children:_jsx(Text,{style:_objectSpread(_objectSpread({},styles.btnText),{},{color:working?\"white\":theme.grey}),children:\"Work\"})}),_jsx(TouchableOpacity,{onPress:travel,children:_jsx(Text,{style:_objectSpread(_objectSpread({},styles.btnText),{},{color:!working?\"white\":theme.grey}),children:\"Travel\"})})]}),_jsx(TextInput,{onSubmitEditing:addToDo,returnKeyType:\"send\",value:text,onChangeText:onChangeText,placeholder:working?\"Add a To Do\":\"Where do you want to go?\",style:styles.input}),_jsx(ScrollView,{children:Object.keys(toDos).map(function(key){return toDos[key].working===working?_jsxs(View,{style:styles.toDo,children:[modify===true?_jsxs(View,{style:{flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\"},children:[_jsx(TextInput,{onSubmitEditing:function onSubmitEditing(){return modifyToDo(key);},returnKeyType:\"send\",onChangeText:modiFyText,style:styles.modify,placeholder:toDos[key].text}),_jsx(TouchableOpacity,{onPress:modifyCancelBtn,children:_jsx(MaterialIcons,{name:\"cancel\",size:20,color:theme.grey})})]}):_jsxs(_Fragment,{children:[toDos[key].done?_jsx(Text,{style:styles.doneText,children:toDos[key].text}):_jsx(Text,{style:styles.toDoText,children:toDos[key].text}),_jsx(View,{children:_jsx(TouchableOpacity,{onPress:function onPress(){doneTodo(key);},children:toDos[key].done?_jsx(Fontisto,{name:\"checkbox-active\",size:20,color:theme.grey}):_jsx(Fontisto,{name:\"checkbox-passive\",size:20,color:theme.grey})})}),_jsx(View,{style:styles.modifyBtn,children:_jsx(TouchableOpacity,{onPress:modifyBtn,children:_jsx(MaterialIcons,{name:\"published-with-changes\",size:20,color:theme.grey})})})]}),_jsx(TouchableOpacity,{onPress:function onPress(){return deleteToDo(key);},children:_jsx(Fontisto,{name:\"trash\",size:18,color:theme.grey})})]},key):null;})})]});}var styles=StyleSheet.create({container:{flex:1,backgroundColor:theme.bg,paddingHorizontal:20},header:{justifyContent:\"space-between\",flexDirection:\"row\",marginTop:100},btnText:{fontSize:38,fontWeight:\"600\",color:\"white\"},input:{backgroundColor:\"white\",paddingVertical:15,paddingHorizontal:20,borderRadius:30,marginVertical:20,fontSize:18},toDo:{backgroundColor:theme.toDoBg,marginBottom:10,paddingVertical:20,paddingHorizontal:20,borderRadius:15,flexDirection:\"row\",alignItems:\"center\",justifyContent:\"space-between\"},toDoText:{color:\"white\",width:280,fontSize:16,fontWeight:\"500\"},modify:{backgroundColor:\"white\",paddingVertical:3,paddingHorizontal:10,width:230,marginVertical:5,borderRadius:5,marginRight:60},doneText:{color:\"#848480\",width:280,fontSize:16,fontWeight:\"500\",textDecorationLine:\"line-through\"}});","map":{"version":3,"sources":["/Users/hongsehwan/Downloads/WorkHardTravelHardApp/App.js"],"names":["useEffect","useState","StatusBar","AsyncStorage","Fontisto","MaterialIcons","theme","STORAGE_KEY","WORK_KEY","App","working","setWorking","text","setText","editText","setEditText","toDos","setToDos","done","setDone","modify","setModify","travel","saveTab","work","modifyBtn","modifyCancelBtn","onChangeText","payload","modiFyText","saveToDos","toSave","setItem","JSON","stringify","alert","loadToDos","getItem","loadText","parse","saveData","currentTab","workData","doneTodo","key","newToDos","addToDo","Date","now","modifyToDo","console","log","deleteToDo","Platform","OS","ok","confirm","Alert","onPress","styles","container","header","btnText","color","grey","input","Object","keys","map","toDo","flexDirection","justifyContent","alignItems","doneText","toDoText","StyleSheet","create","flex","backgroundColor","bg","paddingHorizontal","marginTop","fontSize","fontWeight","paddingVertical","borderRadius","marginVertical","toDoBg","marginBottom","width","marginRight","textDecorationLine"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { StatusBar } from \"expo-status-bar\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { Fontisto } from \"@expo/vector-icons\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  TouchableOpacity,\n  TextInput,\n  ScrollView,\n  Alert,\n  Platform,\n} from \"react-native\";\nimport { theme } from \"./colors\";\nconst STORAGE_KEY = \"@toDos\";\nconst WORK_KEY = \"@currentWork\";\n\nexport default function App() {\n  const [working, setWorking] = useState(true);\n  const [text, setText] = useState(\"\");\n  const [editText, setEditText] = useState(\"\");\n  const [toDos, setToDos] = useState({});\n  const [done, setDone] = useState(false);\n  const [modify, setModify] = useState(false);\n  const travel = () => saveTab(false);\n  const work = () => saveTab(true);\n  const modifyBtn = () => setModify(true);\n  const modifyCancelBtn = () => {\n    setModify(false);\n    setText(\"\");\n  };\n  const onChangeText = (payload) => setText(payload);\n  const modiFyText = (payload) => setEditText(payload);\n  const saveToDos = async (toSave) => {\n    try {\n      await AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(toSave));\n    } catch (err) {\n      alert(err);\n    }\n  };\n  const loadToDos = async () => {\n    try {\n      const loadText = await AsyncStorage.getItem(STORAGE_KEY);\n      if (loadText) {\n        setToDos(JSON.parse(loadText));\n      }\n    } catch (err) {\n      alert(err);\n    }\n  };\n  const saveTab = async (saveData) => {\n    setWorking(saveData);\n    await AsyncStorage.setItem(STORAGE_KEY, JSON.stringify(saveData));\n  };\n  const currentTab = async () => {\n    try {\n      const workData = await AsyncStorage.getItem(WORK_KEY);\n      if (workData) {\n        setToDos(JSON.parse(workData));\n      }\n    } catch (err) {\n      alert(err);\n      working(true);\n    }\n  };\n  const doneTodo = async (key) => {\n    const newToDos = { ...toDos };\n    newToDos[key].done = !newToDos[key].done;\n    setToDos(newToDos);\n    await saveToDos(newToDos);\n  };\n  useEffect(() => {\n    loadToDos();\n    currentTab();\n    // modifyToDo();\n  }, []);\n  const addToDo = async () => {\n    if (text === \"\") {\n      return;\n    }\n    const newToDos = {\n      ...toDos,\n      [Date.now()]: { text, working, modify, done },\n    };\n    setToDos(newToDos);\n    await saveToDos(newToDos);\n    setText(\"\");\n  };\n  const modifyToDo = async (key) => {\n    try {\n      if (editText === \"\") {\n        return;\n      }\n\n      const newToDos = { ...toDos };\n      setEditText(newToDos[key].text);\n      newToDos[key].text = editText;\n      setToDos(newToDos);\n      await saveToDos(newToDos);\n      setEditText(\"\");\n      setModify(false);\n      console.log(toDos);\n    } catch (err) {\n      alert(err);\n    }\n  };\n  const deleteToDo = (key) => {\n    if (Platform.OS === \"web\") {\n      const ok = confirm(\"Do you want to delete this To Do?\");\n      if (ok) {\n        const newToDos = { ...toDos };\n        delete newToDos[key];\n        setToDos(newToDos);\n        saveToDos(newToDos);\n      }\n    } else {\n      Alert.alert(\"Delete To Do\", \"Are you sure?\", [\n        {\n          text: \"OK\",\n          onPress: () => {\n            const newToDos = { ...toDos };\n            delete newToDos[key];\n            setToDos(newToDos);\n            saveToDos(newToDos);\n          },\n        },\n        { text: \"Cancel\" },\n      ]);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <StatusBar style=\"light\" />\n      <View style={styles.header}>\n        <TouchableOpacity onPress={work}>\n          <Text\n            style={{ ...styles.btnText, color: working ? \"white\" : theme.grey }}\n          >\n            Work\n          </Text>\n        </TouchableOpacity>\n        <TouchableOpacity onPress={travel}>\n          <Text\n            style={{\n              ...styles.btnText,\n              color: !working ? \"white\" : theme.grey,\n            }}\n          >\n            Travel\n          </Text>\n        </TouchableOpacity>\n      </View>\n      <TextInput\n        onSubmitEditing={addToDo}\n        returnKeyType=\"send\"\n        value={text}\n        onChangeText={onChangeText}\n        placeholder={working ? \"Add a To Do\" : \"Where do you want to go?\"}\n        style={styles.input}\n      />\n      <ScrollView>\n        {Object.keys(toDos).map((key) =>\n          toDos[key].working === working ? (\n            <View style={styles.toDo} key={key}>\n              {modify === true ? (\n                <View\n                  style={{\n                    flexDirection: \"row\",\n                    justifyContent: \"space-between\",\n                    alignItems: \"center\",\n                  }}\n                >\n                  <TextInput\n                    onSubmitEditing={() => modifyToDo(key)}\n                    returnKeyType=\"send\"\n                    onChangeText={modiFyText}\n                    style={styles.modify}\n                    placeholder={toDos[key].text}\n                  ></TextInput>\n                  <TouchableOpacity onPress={modifyCancelBtn}>\n                    <MaterialIcons name=\"cancel\" size={20} color={theme.grey} />\n                  </TouchableOpacity>\n                </View>\n              ) : (\n                <>\n                  {toDos[key].done ? (\n                    <Text style={styles.doneText}>{toDos[key].text}</Text>\n                  ) : (\n                    <Text style={styles.toDoText}>{toDos[key].text}</Text>\n                  )}\n                  <View>\n                    <TouchableOpacity\n                      onPress={() => {\n                        doneTodo(key);\n                      }}\n                    >\n                      {toDos[key].done ? (\n                        <Fontisto\n                          name=\"checkbox-active\"\n                          size={20}\n                          color={theme.grey}\n                        />\n                      ) : (\n                        <Fontisto\n                          name=\"checkbox-passive\"\n                          size={20}\n                          color={theme.grey}\n                        />\n                      )}\n                    </TouchableOpacity>\n                  </View>\n                  <View style={styles.modifyBtn}>\n                    <TouchableOpacity onPress={modifyBtn}>\n                      <MaterialIcons\n                        name=\"published-with-changes\"\n                        size={20}\n                        color={theme.grey}\n                      />\n                    </TouchableOpacity>\n                  </View>\n                </>\n              )}\n              <TouchableOpacity onPress={() => deleteToDo(key)}>\n                <Fontisto name=\"trash\" size={18} color={theme.grey} />\n              </TouchableOpacity>\n            </View>\n          ) : null\n        )}\n      </ScrollView>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.bg,\n    paddingHorizontal: 20,\n  },\n  header: {\n    justifyContent: \"space-between\",\n    flexDirection: \"row\",\n    marginTop: 100,\n  },\n  btnText: {\n    fontSize: 38,\n    fontWeight: \"600\",\n    color: \"white\",\n  },\n  input: {\n    backgroundColor: \"white\",\n    paddingVertical: 15,\n    paddingHorizontal: 20,\n    borderRadius: 30,\n    marginVertical: 20,\n    fontSize: 18,\n  },\n  toDo: {\n    backgroundColor: theme.toDoBg,\n    marginBottom: 10,\n    paddingVertical: 20,\n    paddingHorizontal: 20,\n    borderRadius: 15,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n  toDoText: {\n    color: \"white\",\n    width: 280,\n    fontSize: 16,\n    fontWeight: \"500\",\n  },\n  modify: {\n    backgroundColor: \"white\",\n    paddingVertical: 3,\n    paddingHorizontal: 10,\n    width: 230,\n    marginVertical: 5,\n    borderRadius: 5,\n    marginRight: 60,\n  },\n  doneText: {\n    color: \"#848480\",\n    width: 280,\n    fontSize: 16,\n    fontWeight: \"500\",\n    textDecorationLine: \"line-through\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}